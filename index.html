<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>blog</title>
  <meta name="description" content="A foray into metaphor-infested waters">

  <!-- Google Fonts loaded here depending on setting in _data/options.yml true loads font, blank does not-->
  
    <link href='//fonts.googleapis.com/css?family=Lato:400,400italic' rel='stylesheet' type='text/css'>
  
  
  <!-- Load up MathJax script if needed ... specify in /_data/options.yml file-->
  
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  

  <link rel="stylesheet" type="text/css" href="/css/tufte.css">
  <!-- <link rel="stylesheet" type="text/css" href="/css/print.css" media="print"> -->

  <link rel="canonical" href="/">

  <link rel="alternate" type="application/rss+xml" title="Merritt Smith's blog" href="/feed.xml" />
</head>

  <body class="full-width">
    <!--- Header and nav template site-wide -->
<header>
    <nav class="group">
<!-- 	<a href="/"><img class="badge" src="/assets/img/badge_1.png" alt="CH"></a>-->
 	
		
  	
		
		    
		      <a class="active" href="/" class="active">blog</a>
		    
	    
  	
		
		    
		      <a href="/about/">About Merritt</a>
		    
	    
  	
		
		    
		      <a href="/css/print.css"></a>
		    
	    
  	
		
  	
	</nav>
</header>
    <article>
        <h1 class="content-listing-header sans">Articles</h1>
  <ul class="content-listing ">
          
        <li class="listing">
          <hr class="slender">
          <a href="/articles/18/George-Bush-Mikhail-Gorbachev-Magnus-Carlsen-Fabiano-Caruana"><h3 class="contrast">George H. Bush:Mikhail Gorbachev :: Magnus Carlsen:Fabiano Caruana</h3></a>
          <br><span class="smaller">December 15, 2018</span>  <br/>
          <div><p><span class="newthought">Chess for geopolitics</span>  is an overworked metaphor. It seems to be capturing the way in which geopolitics is a game played by the people in high towers, combining a war from the tactictal to the operational to the strategic with a staring contest between two equavalently equipped opponents. Leaving aside the many aspects of geopolitics that are emphatically not well reflected in chess, I don’t find even these aspects to be universally available in geopolitics. However, in the specific case of the Cold War, maybe it’s not so bad. In that case, it captures the way in which the two sides peered at each other over the chessboard of Europe, the dichotomy between the two in the white and black pieces. The metaphor takes on a much more direct meaning due to Soviet prowess in the form of Tal, Spassky, Botvinnik, and Petrosian<label for="Soviet-grandmasters" class="margin-toggle sidenote-number"></label><input type="checkbox" id="Soviet-grandmasters" class="margin-toggle" /><span class="sidenote">By no means an exhaustive list, a complete list of Soviet chess legends would be an impressive if boring blog post </span> being challenged by the American<label for="Fischer-hates-authority" class="margin-toggle sidenote-number"></label><input type="checkbox" id="Fischer-hates-authority" class="margin-toggle" /><span class="sidenote">At the time} </span> A number of events in the past few weeks all related to this idea have blended together in my head. When listening to the episode of John Dickerson’s wonderful Whistlestop podcast entitled <a href="https://slate.com/news-and-politics/2018/12/berlin-wall-1989-critics-president-george-h-w-bush-wasnt-saying-enough.html">If a Wall Falls</a>, I thought about the <a href="https://twitter.com/Kasparov63/status/1067125702712004609">criticism</a> that Magnus Carlsen received for not pressing his <a href="https://lichess.org/analysis/standard/r3brk1/1pq5/3p1bp1/2nP1p1p/pQP1pP1P/4B1P1/PPR1BN2/1K1R4_w_-_-">.9 centipawn advantage</a> and superior position in Game 12 of the World Chess Championship, and how that compared to George H. Bush’s decision to not crow his victory as the Berlin Wall fell.
<br /></p>
<figure><figcaption>The Battle of Cannae in two images. Hannibal presented a weak center to the Romans, who responded with a deep formation to press this advantage. The Carthaginian forces then enveloped the Romans in one of the worst Roman defeats ever. A parable about the value of restraint.</figcaption><img src="/assets/img/battleofcannae.jpg" /></figure>
<p><br /><br /></p>

<p>Neither the Berlin Wall falling nor Carlsen’s advantageous position meant guaranteed victory, though we may now see them as inevitable due to the true course of history. As Dickerson notes in his podcast, there were a number of uncertainties surrounding Gorbachev and the trajectory of the Soviet Union under him. No one knew for certain whether he was a good faith reformer, and even if he was, no one knew whether the path to reform would be altered by the “hard-liners in Moscow”. Bush took Gorbachev at his word as a reformer, and purposefully assisted him by not giving fodder to the more conservative Soviet leaders. This ultimately proved to be the right decision, as the dissolution of the USSR occurred without any shots being fired between the two major powers.</p>

<p>Carlsen also elected not to press his advantage in Game 12 against Caruana. There is some very clear strategy behind this choice. Carlsen, the #1 player in the world in all three time constraints of chess<label for="types-of-chess" class="margin-toggle sidenote-number"></label><input type="checkbox" id="types-of-chess" class="margin-toggle" /><span class="sidenote">Classical, Rapid, and Blitz </span>, has an Elo score of 2835 in Classical format, while Caruana has an Elo score of 2832 in Classical. An insignificant difference. However, Carlsen has an Elo score of 2903 in Rapid format, while Caruana has an Elo score of 2766 in Rapid format. Using <a href="https://wismuth.com/elo/calculator.html#name1=Carlsen%2C+Magnus&amp;name2=Caruana%2C+Fabiano&amp;best_of=12"> this calculation </a> of their win probabilities based on their ratings, Magnus had about a 43% chance of winning in 12 classical games, Caruana had a 39% chance of winning, and there was a 19% chance of a draw after 12. In the Rapid best of 4 tiebreaker, Magnus had a 78% chance of winning, Caruana had a 6% chance of winning, and there was a 15% chance of a draw, based on <a href="https://wismuth.com/elo/calculator.html#best_of=4&amp;rating1=2903&amp;rating2=2766">this calculation</a>. It’s not hard to see why Carlsen elected to draw and move on to the tiebreaker. The wisdom of this choice was born out by Carlsen’s three successive victories under Rapid time constraints.<label for="carlsenraps" class="margin-toggle"> ⊕</label><input type="checkbox" id="carlsenraps" class="margin-toggle" /><span class="marginnote">Also it has come to my attention that Carlsen &lt;a href = https://www.youtube.com/watch?time_continue=380&amp;v=ahtbecpKtOg&gt;rapped&lt;/a&gt; on a song by Mr. Pimp-Lotion a few days ago, and it is my ethical responsibility to pass the happiness it brought me along </span></p>

<p>There is no need to raise your risk profile<label for="daryl-morey" class="margin-toggle sidenote-number"></label><input type="checkbox" id="daryl-morey" class="margin-toggle" /><span class="sidenote">Shoutout to Daryl Morey </span> when you have the advantage. This is not to say that sitting on your hands is the best policy, only that perhaps the greatest advantage of having the advantage is the ability to pick your battles.</p>
</div> 
        </li>
          
        <li class="listing">
          <hr class="slender">
          <a href="/articles/18/Partial-Dependence-Plots-in-Python-and-R"><h3 class="contrast">Partial Dependence Plots in Python and R</h3></a>
          <br><span class="smaller">December 2, 2018</span>  <br/>
          <div><p><span class="newthought">In writing my undergrad thesis</span>  on wealth inequality and using various techniques for predicting it, I found myself disappointed that there was no simple method in Python’s scikit-learn to generate partial dependence plots for random forests. The ability to create partial dependence plots for gradient boosted regressors <a href="https://scikit-learn.org/stable/auto_examples/ensemble/plot_partial_dependence.html">exists</a>, so why not for random forests, or anything else for that matter? In this post, I’ll discuss partial dependence plots, what they are, how they’re useful in ensemble methods, and dive into the state of the art for partial dependence plots in both Python and R.</p>

<p><br /></p>
<h3 id="whats-a-partial-dependence-plot">What’s a partial dependence plot?</h3>

<p>A partial dependence plot is an attempt to open up the black box of ensemble methods. Normally, we can compute the importance of a given variable in estimating the response varaible, but do not have a great intuition as to the decision surface of even the most important variables. Partial dependence plots allow us to see the marginal effect of a given variable on the response variable by integrating out all of the other variables. They allow us to see the effect of a single variable on the response variable, which is otherwise not possible in ensemble methods. Thus, they’re a very powerful tool. Ensemble methods are being left by the wayside in 2018 for ever more complicated neural nets, but ensemble methods continue to provide a powerful and much more interpretable option for both regression and classification thanks to partial dependence plots. Now let’s see what they look like!</p>

<h3 id="state-of-the-code-python">State of the code: Python</h3>

<p>There’s been <a href="https://github.com/scikit-learn/scikit-learn/issues/4405">motion</a> <a href="https://github.com/scikit-learn/scikit-learn/pull/5653">on</a> <a href="https://github.com/scikit-learn/scikit-learn/pull/12599">the topic</a> of partial dependence plots since 2015 within sklearn, as well as some external work towards <a href="https://github.com/nyuvis/partial_dependence">a generalized partial dependence plot library</a> that can connect to the extant classifiers and regressors. I decided to test each of these tools out. The sklearn partial dependence plot is still going through edits, but it performs admirably, creating simple R-style partial dependence plot matrices.</p>

<figure><figcaption>Partial Dependence Plots of fixed acidity and volatile acidity on perceived wine quality using data from UCI Machine Learning Repository Wine Quality Dataset, specifically using white wine portion.</figcaption><img src="/assets/img/SklearnPDP.png" /></figure>

<p><br />
The code also extends easily to create three dimensional partial dependence plots, should that tickle your fancy. Not normally my cup of tea, but in this case it allows for a more pithy data visualization and efficiently demonstrates variable interaction.</p>

<figure><figcaption>3D Partial Dependence Plot of fixed acidity and volatile acidity on perceived wine quality using data from UCI Machine Learning Repository Wine Quality Dataset,
specifically using white wine portion. </figcaption><img src="/assets/img/SklearnPDP3D.png" /></figure>

<p><br /></p>

<p>What’s more, this tool, if implemented, would be integrated seamlessly into the most commonly used Python machine learning library and would be a plotting option for every single ensemble method within sci-kit learn. That’s big.</p>

<p><br /></p>

<p>A more established and feature-rich Python library for plotting partial dependence is the NYU Visualization Lab’s ‘partial_dependence’.</p>
</div> 
        </li>
    
  </ul>
    </article>
    <span class="print-footer">blog - m. merritt smith</span>
    <footer>
  <hr class="slender">
  <ul class="footer-links">
    <li><a href="mailto:matthewmerrittsmith@gmail.com"><span class="icon-mail2"></span></a></li>    
    
      <li>
        <a href="//twitter.com/MMerrittSmith"><span class="icon-twitter"></span></a>
      </li>
    
      <li>
        <a href="//github.com/mmerrittsmith"><span class="icon-github"></span></a>
      </li>
    
      <li>
        <a href="//gitlab.com/mmerrittsmith"><span class="icon-git"></span></a>
      </li>
    
      <li>
        <a href="//linkedin.com/in/mmerrittsmith/"><span class="icon-linkedin2"></span></a>
      </li>
    
      <li>
        <a href="//stackoverflow.com/users/8256022/merritt-smith?tab=profile"><span class="icon-stackoverflow"></span></a>
      </li>
      
  </ul>
<div class="credits">
<span>&copy; 2018 &nbsp;&nbsp;M. MERRITT SMITH</span></br> <br>
<span>This site created with the <a href="//github.com/clayh53/tufte-jekyll">Tufte theme for A foray into metaphor-infested wars </a> in <a href="//jekyllrb.com">Jekyll</a>.</span> 
</div>  
</footer>
  </body>
</html>
